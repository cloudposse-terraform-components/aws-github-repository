components:
  terraform:
    github/repo/defaults:
      metadata:
        component: github-repository
        type: abstract
      vars:
        enabled: true

        # Use the team ID, not the name.
        teams:
          devops: admin

        # Defaults for repository
        repository:
          homepage_url: "https://github.com/{{ .vars.owner }}/{{ .vars.repository.name }}"
          topics:
            - terraform
            - github
          default_branch: "main"
          visibility: "private"

          auto_init: true
          gitignore_template: "TeX"
          license_template: "GPL-3.0"

          archived: false
          archive_on_destroy: false

          has_issues: false
          has_discussions: false
          has_projects: false
          has_wiki: false
          has_downloads: false

          allow_merge_commit: true
          allow_squash_merge: true
          allow_rebase_merge: true
          allow_auto_merge: true

          merge_commit_title: "MERGE_MESSAGE"
          merge_commit_message: "PR_TITLE"
          squash_merge_commit_title: "COMMIT_OR_PR_TITLE"
          squash_merge_commit_message: "COMMIT_MESSAGES"

          web_commit_signoff_required: true
          delete_branch_on_merge: true

          ignore_vulnerability_alerts_during_read: true
          allow_update_branch: true

          security_and_analysis:
            advanced_security: false
            secret_scanning: false
            secret_scanning_push_protection: false
