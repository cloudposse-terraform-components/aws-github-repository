nonprod_environment_defaults: &nonprod_environment_defaults
  can_admins_bypass: true
  prevent_self_review: true
  variables: {}
  secrets: {}

prod_environment_defaults: &prod_environment_defaults
  can_admins_bypass: false
  prevent_self_review: false
  variables: {}
  secrets: {}

components:
  terraform:
    github/environment/defaults:
      metadata:
        component: github-repository
        type: abstract
      vars:
        environments:
          preview:
            <<: *nonprod_environment_defaults
          dev:
            <<: *nonprod_environment_defaults
          staging:
            <<: *prod_environment_defaults
          prod:
            <<: *prod_environment_defaults
